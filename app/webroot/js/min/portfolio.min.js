!function(){$(function(){var e;return e=function(){return window.Project=Backbone.Model.extend({}),window.ProjectView=Backbone.View.extend({tagName:"div",idAttribute:"project_id",template:_.template($("#project_container_template").html()),render:function(){var e;return e=this.model.toJSON(),this.$el.html(this.template(e)),this}}),window.ProjectThumbnailView=Backbone.View.extend({tagName:"li",template:_.template($("#thumbnail_button_template").html()),render:function(){var e;return e=this.model.toJSON(),this.$el.html(this.template(e)),$(this.el).addClass("thumbnail"),$(this.el).attr("id",this.model.get("id")),this}}),window.ProjectCollection=Backbone.Collection.extend({model:Project,idAttribute:"project_id",methodURL:{read:"/main/projects/fetch"},sync:function(e,t,n){return t.methodURL&&t.methodURL[e.toLowerCase()]&&(n.url=t.methodURL[e.toLowerCase()]),Backbone.sync(e,t,n)}}),window.ProjectThumbnailsView=Backbone.View.extend({tagName:"ul",render:function(){var e,t,n,o;for(o=this.collection.models,t=0,n=o.length;n>t;t++)e=o[t],this.renderProject(e);return $(this.el).addClass("thumbnails"),this},renderProject:function(e){var t;return t=new ProjectThumbnailView({model:e}),this.$el.append(t.render().el)}}),window.ProjectCollectionView=Backbone.View.extend({tagName:"div",render:function(e){var t,n;return t=this.collection.get(e),n=new ProjectView({model:t}),this.$el.append(n.render().el),this}})},$.get("/main/templates/fetch",function(t){var n,o,r,i,l;for(r=$.parseJSON(t),i=0,l=r.length;l>i;i++)o=r[i],$("#templates").append(o);return e(),window.projectCollection=new ProjectCollection,n=new ProjectThumbnailsView({collection:projectCollection}),projectCollection.fetch({success:function(){return $("#thumbnail_gallery").html(n.render().el)}})}),$(document).ready(function(){return $("#thumbnail_gallery").on("click",".thumbnail",function(e){var t,n,o;return o=$(e.target).parent().attr("id"),t=projectCollection.get(o),n=new ProjectCollectionView({collection:projectCollection}),$("#project_container").html(n.render(o).el)})})})}.call(this);