!function(){$(function(){var e,t,n;return n=null,t=null,e=function(){return window.Project=Backbone.Model.extend({}),window.ProjectView=Backbone.View.extend({tagName:"div",idAttribute:"project_id",template:_.template($("#project_container_template").html()),render:function(){var e;return e=this.model.toJSON(),this.$el.html(this.template(e)),console.log(e),this}}),window.ProjectThumbnailView=Backbone.View.extend({tagName:"li",template:_.template($("#thumbnail_button_template").html()),render:function(){var e;return e=this.model.toJSON(),this.$el.html(this.template(e)),$(this.el).addClass("thumbnail"),$(this.el).find(".clickable_frame").attr("id",this.model.get("id")),this}}),window.ProjectCollection=Backbone.Collection.extend({model:Project,idAttribute:"project_id",methodURL:{read:"/main/projects/fetch"},sync:function(e,t,n){return t.methodURL&&t.methodURL[e.toLowerCase()]&&(n.url=t.methodURL[e.toLowerCase()]),Backbone.sync(e,t,n)}}),window.ProjectThumbnailsView=Backbone.View.extend({tagName:"ul",render:function(){var e,t,n,o;for(o=this.collection.models,t=0,n=o.length;n>t;t++)e=o[t],this.renderProject(e);return $(this.el).addClass("thumbnails"),this},renderProject:function(e){var t;return t=new ProjectThumbnailView({model:e}),this.$el.append(t.render().el)}}),window.ProjectCollectionView=Backbone.View.extend({tagName:"div",render:function(e){var t,n;return t=this.collection.get(e),console.log(e),n=new ProjectView({model:t}),this.$el.append(n.render().el),this}})},$.get("/main/templates/fetch",function(n){var o,l,r,i,c;for(r=$.parseJSON(n),i=0,c=r.length;c>i;i++)l=r[i],$("#templates").append(l);return e(),t=new ProjectCollection,o=new ProjectThumbnailsView({collection:t}),console.log(t),t.fetch({success:function(){return $("#thumbnail_gallery").html(o.render().el)}})}),$(document).ready(function(){return $("#thumbnail_gallery").on("click",".thumbnail",function(e){var o,l;return l=$(e.target).attr("id"),console.log($(e.target)),o=t.get(l),n=new ProjectCollectionView({collection:t}),$("#project_container").html(n.render(l).el)})})})}.call(this);