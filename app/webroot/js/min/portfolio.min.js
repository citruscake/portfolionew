!function(){$(function(){var e;return e=function(){var e,t,n;return n=null,t=null,e=function(){return window.Project=Backbone.Model.extend({}),window.ProjectView=Backbone.View.extend({tagName:"div",idAttribute:"project_id",template:_.template($("#project_container_template").html()),render:function(){var e;return e=this.model.toJSON(),this.$el.html(this.template(e)),console.log(e),this}}),window.ProjectThumbnailView=Backbone.View.extend({tagName:"li",template:_.template($("#thumbnail_button_template").html()),render:function(){var e;return e=this.model.toJSON(),this.$el.html(this.template(e)),$(this.el).addClass("thumbnail"),$(this.el).find(".clickable_frame").attr("id",this.model.get("id")),this}}),window.ProjectCollection=Backbone.Collection.extend({model:Project,idAttribute:"project_id",methodURL:{read:"/projects/action/fetch"},sync:function(e,t,n){return t.methodURL&&t.methodURL[e.toLowerCase()]&&(n.url=t.methodURL[e.toLowerCase()]),Backbone.sync(e,t,n)}}),window.ProjectThumbnailsView=Backbone.View.extend({tagName:"ul",render:function(){var e,t,n,o;for(o=this.collection.models,t=0,n=o.length;n>t;t++)e=o[t],this.renderProject(e);return $(this.el).addClass("thumbnails"),this},renderProject:function(e){var t;return t=new ProjectThumbnailView({model:e}),this.$el.append(t.render().el)}}),window.ProjectCollectionView=Backbone.View.extend({tagName:"div",render:function(e){var t,n;return t=this.collection.get(e),console.log(e),n=new ProjectView({model:t}),this.$el.append(n.render().el),this}})},$.get("/projects/templates/fetch",function(o){var i,r,l,c,a;for(l=$.parseJSON(o),c=0,a=l.length;a>c;c++)r=l[c],$("#templates").append(r);return e(),t=new ProjectCollection,i=new ProjectThumbnailsView({collection:t}),console.log(t),t.fetch({success:function(){return $("#thumbnail_gallery").html(i.render().el),$("#thumbnail_gallery").find(".thumbnail-frame").eq(0).children("img").eq(0).trigger("click"),console.log($("#thumbnail_gallery").find(".thumbnail-frame").eq(0).children("img").eq(0))}}),$("#thumbnail_gallery").on("click",".thumbnail",function(e){var o,i;return i=$(e.target).attr("id"),console.log($(e.target)),o=t.get(i),n=new ProjectCollectionView({collection:t}),$("#project_container").html(n.render(i).el),$("#main_image").baseline(27)})})},$(document).ready(function(){return $("#about_me_link").on("click",function(){return $.get("/main/about",function(e){return $("#app_container").html(e)})}),$("#projects_link").on("click",function(){return $.get("/projects",function(t){return $("#app_container").html(t),e()})}),$("#contact_me_link").on("click",function(){return $.get("/main/contact",function(e){return $("#app_container").html(e)})}),$("#projects_link").trigger("click")})})}.call(this);