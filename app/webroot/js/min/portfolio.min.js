!function(){$(function(){var e,t,n,o;return n=function(){var e,t,n;return n=null,t=null,e=function(){return window.Project=Backbone.Model.extend({}),window.ProjectView=Backbone.View.extend({tagName:"div",idAttribute:"project_id",template:_.template($("#project_container_template").html()),events:{"click #live_link_button":"openSite"},render:function(){var e;return e=this.model.toJSON(),this.$el.html(this.template(e)),console.log(e),this},openSite:function(){var e;return e=this.model.get("live_site_url"),window.open(e,"_blank")}}),window.ProjectThumbnailView=Backbone.View.extend({tagName:"li",template:_.template($("#thumbnail_button_template").html()),render:function(){var e;return e=this.model.toJSON(),this.$el.html(this.template(e)),$(this.el).addClass("thumbnail"),$(this.el).find(".clickable_frame").attr("id",this.model.get("id")),this}}),window.ProjectCollection=Backbone.Collection.extend({model:Project,idAttribute:"project_id",methodURL:{read:"/projects/action/fetch"},sync:function(e,t,n){return t.methodURL&&t.methodURL[e.toLowerCase()]&&(n.url=t.methodURL[e.toLowerCase()]),Backbone.sync(e,t,n)}}),window.ProjectThumbnailsView=Backbone.View.extend({tagName:"ul",render:function(){var e,t,n,o;for(o=this.collection.models,t=0,n=o.length;n>t;t++)e=o[t],this.renderProject(e);return $(this.el).addClass("thumbnails"),this},renderProject:function(e){var t;return t=new ProjectThumbnailView({model:e}),this.$el.append(t.render().el)}}),window.ProjectCollectionView=Backbone.View.extend({tagName:"div",render:function(e){var t,n;return t=this.collection.get(e),console.log(e),n=new ProjectView({model:t}),this.$el.append(n.render().el),this}})},$.get("/projects/templates/fetch",function(o){var a,i,r,c,l;for(r=$.parseJSON(o),c=0,l=r.length;l>c;c++)i=r[c],$("#templates").append(i);return e(),t=new ProjectCollection,a=new ProjectThumbnailsView({collection:t}),console.log(t),t.fetch({success:function(){return $("#thumbnail_gallery").html(a.render().el),$("#thumbnail_gallery").find(".thumbnail-frame").eq(0).children("img").eq(0).trigger("click"),console.log($("#thumbnail_gallery").find(".thumbnail-frame").eq(0).children("img").eq(0))}}),$("#thumbnail_gallery").on("click",".thumbnail",function(e){var o,a;return a=$(e.target).attr("id"),console.log($(e.target)),o=t.get(a),n=new ProjectCollectionView({collection:t}),$("#project_container").html(n.render(a).el),$("#main_image").baseline(27)})})},t=function(e){var t;return t=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,t.test(e)},e=function(e,t){return $(e).popover({content:t}),$(e).popover("show")},o=function(e){return e===!0?($("#submit_contact_us_button").css("padding-top","0.4em"),$("#submit_contact_us_button").css("padding-bottom","0.4em"),$("#submit_contact_us_button").html('<img src="/img/ajax-loader.gif"/>')):($("#submit_contact_us_button").css("padding-top","0em"),$("#submit_contact_us_button").css("padding-bottom","0em"),$("#submit_contact_us_button").html('Send <i class="icon-envelope icon-white" />'))},$(document).ready(function(){return $("#about_me_link").on("click",function(){return $.get("/main/about",function(e){return $("#app_container").html(e)})}),$("#projects_link").on("click",function(){return $.get("/projects",function(e){return $("#app_container").html(e),n()})}),$("#contact_me_link").on("click",function(){return $.get("/main/contact",function(e){return $("#app_container").html(e)})}),$("#app_container").on("click","#view_cv_button",function(){var e;return e="/pdf/CV.pdf",window.open(e,"_blank")}),$("#app_container").on("focus","input, textarea",function(e){var t;return t=e.target.id,$("#"+t).parent().animate({"border-color":"#333333"},100),$("#"+e.target.id).parent().popover("destroy")}),$("#app_container").on("focusout","input, textarea",function(e){var t;return t=e.target.id,$("#"+t).parent().animate({"border-color":"#999999"},100)}),$("#app_container").on("keyup","#contact_email_address",function(){var e,n;return e=$("#contact_email_address").val(),""!==e?(n=t(e),n===!0?$("#contact_email_symbol_container").html('<i class="icon-ok"></i>'):$("#contact_email_symbol_container").html('<i class="icon-remove"></i>')):$("#contact_email_symbol_container").html("")}),$("#app_container").on("click","#submit_contact_us_button",function(){var n,a,i,r,c,l,s;return a=$("#contact_email_address").val(),i=$("#full_name").val(),s=$("#message_subject").val(),l=$("#message_body").val(),""===a?e("#contact_email_container","Please enter your email address."):t(a)===!1?e("#contact_email_container","Your email address is invalid."):""===i?e("#full_name_container","Please give your name."):""===s?e("#message_subject_container","Please give your message subject."):(l="")?e("#message_body_container","Please give your message body."):(r=!0,c=!1,o(r),$(this).doTimeout("change_button",300,function(){return c=!0,r===!1?o(r):void 0}),n={email_address:$("#contact_email_address").val(),full_name:$("#full_name").val(),message_subject:$("#message_subject").val(),message_body:$("#message_body").val()},$.post("/main/contact",n,function(e){var t;return r=!1,c===!0&&o(r),t=$.parseJSON(e),"success"===t.status?($(".alert-success").css("display","inline"),$(".alert-success").animate({opacity:1},300)):($(".alert-error").css("display","inline"),$(".alert-error").animate({opacity:1},300)),$("#app_container").off("click","#submit_contact_us_button"),$("#contact_container label, #submit_contact_us_button, #message_body_container, #contact_email_container, #contact_email_symbol_container, #full_name_container, #message_subject_container").animate({opacity:.4},300),$("#contact_container input, #contact_container textarea").prop("disabled",!0)}))}),$("#projects_link").trigger("click")})})}.call(this);